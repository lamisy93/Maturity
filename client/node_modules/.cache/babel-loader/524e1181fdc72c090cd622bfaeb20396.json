{"ast":null,"code":"import _regeneratorRuntime from \"/home/aminata/Downloads/BACK-FRONT/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/aminata/Downloads/BACK-FRONT/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/aminata/Downloads/BACK-FRONT/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/aminata/Downloads/BACK-FRONT/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/aminata/Downloads/BACK-FRONT/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/aminata/Downloads/BACK-FRONT/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/aminata/Downloads/BACK-FRONT/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/aminata/Downloads/BACK-FRONT/client/src/components/Form/Form.js\";\nimport React, { Component, Fragment } from \"react\"; // import update from 'react-addons-update';\n\nimport Quiz from \"./questionForm/Quiz\";\nimport Result from \"./questionForm/Result\"; // import ReactCSSTransitionGroup from 'react-addons-css-transition-group';\n\nimport \"./Form.scss\";\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Form).call(this, props));\n    _this.callApi =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var featuresTeam, body;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"/api/v1/campaign/displayQuestions\");\n\n            case 2:\n              featuresTeam = _context.sent;\n              _context.next = 5;\n              return featuresTeam.json();\n\n            case 5:\n              body = _context.sent;\n\n              if (!(featuresTeam.status !== 200)) {\n                _context.next = 8;\n                break;\n              }\n\n              throw Error(body.message);\n\n            case 8:\n              return _context.abrupt(\"return\", body);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.setNextQuestion = function () {\n      var counter = _this.state.counter + 1;\n      var questionId = _this.state.questionId + 1;\n\n      if (!_this.state.quizQuestions[counter]) {\n        _this.setState({\n          quizFinish: true\n        });\n      } else {\n        _this.setState({\n          counter: counter,\n          questionId: questionId,\n          question: _this.state.quizQuestions[counter].wordingques,\n          wordingcat: _this.state.quizQuestions[counter].wordingcat,\n          url: _this.state.quizQuestions[counter].url,\n          answerOptions: _this.state.quizQuestions[counter].answers,\n          answer: \"\"\n        });\n      }\n    };\n\n    _this.state = {\n      counter: 0,\n      quizQuestions: [],\n      questionId: 1,\n      question: \"\",\n      wordingcat: \"\",\n      url: \"\",\n      answer: \"\",\n      result: \"\",\n      quizFinish: false\n    };\n    return _this;\n  }\n\n  _createClass(Form, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      this.callApi().then(function (quizQuestions) {\n        // quizQuestions.map((question) =>{/*console.log(question) this.shuffleArray(question.answers)*/ ques});\n        _this2.setState({\n          quizQuestions: quizQuestions,\n          question: quizQuestions[0].wordingques,\n          url: quizQuestions[0].url,\n          wordingcat: quizQuestions[0].wordingcat\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"shuffleArray\",\n    value: function shuffleArray(array) {\n      var currentIndex = array.length,\n          temporaryValue,\n          randomIndex;\n\n      while (0 !== currentIndex) {\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex -= 1;\n        temporaryValue = array[currentIndex];\n        array[currentIndex] = array[randomIndex];\n        array[randomIndex] = temporaryValue;\n      }\n\n      return array;\n    }\n  }, {\n    key: \"renderQuiz\",\n    value: function renderQuiz() {\n      var _this$state = this.state,\n          answer = _this$state.answer,\n          questionId = _this$state.questionId,\n          question = _this$state.question,\n          wordingcat = _this$state.wordingcat,\n          quizQuestions = _this$state.quizQuestions,\n          url = _this$state.url;\n      return React.createElement(Quiz, {\n        answer: answer,\n        questionId: questionId,\n        question: question,\n        wordingcat: wordingcat,\n        url: url,\n        comment: this.comment,\n        questionTotal: quizQuestions.length,\n        changeQuestion: this.setNextQuestion,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"renderResult\",\n    value: function renderResult() {\n      return React.createElement(Result, {\n        quizResult: this.state.result,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, this.state.quizFinish ? this.renderResult() : this.renderQuiz(), React.createElement(\"textarea\", {\n        style: {\n          marginTop: \"50px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"question-form-button\",\n        onClick: this.setNextQuestion,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"VALIDER\"));\n    }\n  }]);\n\n  return Form;\n}(Component);\n\nexport default Form;","map":{"version":3,"sources":["/home/aminata/Downloads/BACK-FRONT/client/src/components/Form/Form.js"],"names":["React","Component","Fragment","Quiz","Result","Form","props","callApi","fetch","featuresTeam","json","body","status","Error","message","setNextQuestion","counter","state","questionId","quizQuestions","setState","quizFinish","question","wordingques","wordingcat","url","answerOptions","answers","answer","result","then","catch","err","console","log","array","currentIndex","length","temporaryValue","randomIndex","Math","floor","random","comment","renderResult","renderQuiz","marginTop"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\r\n// import update from 'react-addons-update';\r\nimport Quiz from \"./questionForm/Quiz\";\r\nimport Result from \"./questionForm/Result\";\r\n// import ReactCSSTransitionGroup from 'react-addons-css-transition-group';\r\nimport \"./Form.scss\";\r\n\r\nclass Form extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      counter: 0,\r\n      quizQuestions: [],\r\n      questionId: 1,\r\n      question: \"\",\r\n      wordingcat: \"\",\r\n      url: \"\",\r\n      answer: \"\",\r\n      result: \"\",\r\n      quizFinish: false\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.callApi()\r\n      .then(quizQuestions => {\r\n        // quizQuestions.map((question) =>{/*console.log(question) this.shuffleArray(question.answers)*/ ques});\r\n\r\n        this.setState({\r\n          quizQuestions,\r\n          question: quizQuestions[0].wordingques,\r\n          url: quizQuestions[0].url,\r\n          wordingcat: quizQuestions[0].wordingcat\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  callApi = async () => {\r\n    const featuresTeam = await fetch(\"/api/v1/campaign/displayQuestions\");\r\n    const body = await featuresTeam.json();\r\n\r\n    if (featuresTeam.status !== 200) throw Error(body.message);\r\n\r\n    return body;\r\n  };\r\n\r\n  shuffleArray(array) {\r\n    let currentIndex = array.length,\r\n      temporaryValue,\r\n      randomIndex;\r\n\r\n    while (0 !== currentIndex) {\r\n      randomIndex = Math.floor(Math.random() * currentIndex);\r\n      currentIndex -= 1;\r\n\r\n      temporaryValue = array[currentIndex];\r\n      array[currentIndex] = array[randomIndex];\r\n      array[randomIndex] = temporaryValue;\r\n    }\r\n\r\n    return array;\r\n  }\r\n\r\n  setNextQuestion = () => {\r\n    const counter = this.state.counter + 1;\r\n    const questionId = this.state.questionId + 1;\r\n\r\n    if (!this.state.quizQuestions[counter]) {\r\n      this.setState({\r\n        quizFinish: true\r\n      });\r\n    } else {\r\n      this.setState({\r\n        counter: counter,\r\n        questionId: questionId,\r\n        question: this.state.quizQuestions[counter].wordingques,\r\n        wordingcat: this.state.quizQuestions[counter].wordingcat,\r\n        url: this.state.quizQuestions[counter].url,\r\n        answerOptions: this.state.quizQuestions[counter].answers,\r\n        answer: \"\"\r\n      });\r\n    }\r\n  };\r\n\r\n  renderQuiz() {\r\n    const {\r\n      answer,\r\n      questionId,\r\n      question,\r\n      wordingcat,\r\n      quizQuestions,\r\n      url\r\n    } = this.state;\r\n    return (\r\n      <Quiz\r\n        answer={answer}\r\n        questionId={questionId}\r\n        question={question}\r\n        wordingcat={wordingcat}\r\n        url={url}\r\n        comment={this.comment}\r\n        questionTotal={quizQuestions.length}\r\n        changeQuestion={this.setNextQuestion}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderResult() {\r\n    return <Result quizResult={this.state.result} />;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        {this.state.quizFinish ? this.renderResult() : this.renderQuiz()}\r\n        <textarea style={{ marginTop: \"50px\" }} />\r\n        <button className=\"question-form-button\" onClick={this.setNextQuestion}>\r\n          VALIDER\r\n        </button>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form;\r\n"]},"metadata":{},"sourceType":"module"}