{"ast":null,"code":"import _classCallCheck from \"D:\\\\T\\xE9l\\xE9chargements\\\\LBC-Projet\\\\BACK-FRONT\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\T\\xE9l\\xE9chargements\\\\LBC-Projet\\\\BACK-FRONT\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\T\\xE9l\\xE9chargements\\\\LBC-Projet\\\\BACK-FRONT\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\T\\xE9l\\xE9chargements\\\\LBC-Projet\\\\BACK-FRONT\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\T\\xE9l\\xE9chargements\\\\LBC-Projet\\\\BACK-FRONT\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\T\\xE9l\\xE9chargements\\\\LBC-Projet\\\\BACK-FRONT\\\\client\\\\src\\\\components\\\\FeaturesTeamSection\\\\FeaturesTeamSection.js\";\nimport React, { Component, Fragment } from 'react'; // import Questions from '../Questions/Questions';\n\nimport { Link } from \"react-router-dom\";\n\nvar classNames = require('classnames');\n\n(function () {\n  // \"use strict\";\n  function doAjax(url, method, callback, data) {\n    try {\n      var xhr = new XMLHttpRequest();\n      xhr.open(method, url);\n      xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n      data = data ? JSON.stringify(data) : null;\n\n      if (method.toLowerCase() === \"post\") {\n        if (!data) throw new Error(\"bad call\");\n      }\n\n      xhr.onload = function (evt) {\n        return callback(evt.target.response || evt.srcElement.response);\n      };\n\n      xhr.send(data); // console.log(data);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  function createCampaign(e) {\n    //return console.log(e)\n    e.preventDefault(); //        return console.log(\"ici tout va bien\")\n\n    var url = \"http://localhost:5000/api/v1/campaign/createCampaign\";\n    doAjax(url, \"POST\", function (res) {\n      window.alert(\"campaign created\"); // console.log(JSON.parse(res));\n\n      console.log(\"app.js/res\", res);\n    }, {\n      name: document.getElementById(\"input\").value,\n      ft_id: 10\n    });\n  }\n\n  var getCampaign = function getCompaign() {\n    var url = \"http://localhost:5000/api/v1/campaign/displayCampaign\";\n    doAjax(url, \"GET\", function (res) {\n      // console.log(JSON.parse(res));\n      displayCampaign(JSON.parse(res));\n    });\n  };\n\n  var getQuestions = function getQuestions() {\n    var url = \"http://localhost:5000/api/v1/campaign/displayQuestions\";\n    doAjax(url, \"GET\", function (res) {\n      // console.log(JSON.parse(res));\n      displayQuestions(JSON.parse(res));\n    });\n  };\n\n  function displayCampaign(tableau) {\n    if (tableau === undefined) return;\n    tableau.forEach(function (e) {\n      console.log(e); //if (e.state === 0) {\n      //  e.state = \"En cours\";\n      //}\n\n      e.state === 0 ? e.state = \"En cours\" : e.state = \"Terminée\";\n      var ul = document.createElement(\"ul\");\n      var li = document.createElement(\"li\");\n      document.body.appendChild(ul);\n      ul.innerHTML = \"\";\n      li.textContent = \"nom de la campagne: \".concat(e.name, \" - date de la campagne: \").concat(e.date, \" - statut de la campagne: \").concat(e.state);\n      ul.appendChild(li);\n    });\n  }\n\n  function displayQuestions(tableau) {\n    if (tableau === undefined) return;\n    tableau.forEach(function (e) {\n      console.log(e);\n      var ul = document.createElement(\"ul\");\n      var li = document.createElement(\"li\");\n      document.body.appendChild(ul);\n      ul.innerHTML = \"\";\n      li.textContent = \"\".concat(e.number, \" - \").concat(e.wording, \" : \").concat(e.url);\n      ul.appendChild(li);\n    });\n  }\n\n  function createReponse(e) {\n    //return console.log(e)\n    e.preventDefault(); //        return console.log(\"ici tout va bien\")\n\n    var url = \"http://localhost:5000/api/v1/campaign/campaign\";\n    var yesNo = document.getElementsByClassName(\"reponse\"); // tableau d'élements\n\n    var wordingValue; // si le premier bouton radio (oui) est checked alors la valeur du bouton est true sinon c'est false (non)\n\n    if (yesNo[0].checked === true) {\n      wordingValue = true;\n    } else if (yesNo[1].checked === true) {\n      wordingValue = false;\n    }\n\n    doAjax(url, \"POST\", function (res) {\n      window.alert(\"Reponse created\"); // console.log(JSON.parse(res));\n\n      console.log(\"app.js/res\", res);\n    }, {\n      wording: wordingValue,\n      action: document.getElementById(\"action\").value,\n      campagne_id: 23,\n      question_id: 1\n    });\n  } // const getReponse = function getReponse() {\n  //   const url = \"http://localhost:5000/api/v1/campaign/campaign\";\n  //   doAjax(url, \"GET\", res => {\n  //     // console.log(JSON.parse(res));\n  //     displayReponse(JSON.parse(res));\n  //   });\n  // };\n\n\n  function start() {\n    var buttonCampagne = document.getElementById(\"button-campagne\");\n    var display = document.getElementById(\"display\");\n    var quest = document.getElementById(\"quest\");\n    var buttonReponse = document.getElementById(\"button-reponse\");\n    if (buttonCampagne) buttonCampagne.onclick = function (evt) {\n      createCampaign(evt);\n    };\n    if (display) display.onclick = function () {\n      getCampaign();\n      displayCampaign();\n    };\n    if (quest) quest.onclick = function () {\n      getQuestions();\n      displayQuestions();\n    };\n    if (buttonReponse) buttonReponse.onclick = function (evt) {\n      createReponse(evt); // getReponse();\n    };\n  }\n\n  window.addEventListener(\"DOMContentLoaded\", start);\n})();\n\nvar FeaturesTeamSection =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FeaturesTeamSection, _Component);\n\n  function FeaturesTeamSection() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FeaturesTeamSection);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FeaturesTeamSection)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      show: false\n    };\n\n    _this.showModal = function () {\n      _this.setState({\n        show: true\n      });\n    };\n\n    _this.hideModal = function () {\n      _this.setState({\n        show: false\n      });\n    };\n\n    _this.date = \"Le \".concat(new Date().toLocaleDateString());\n    return _this;\n  }\n\n  _createClass(FeaturesTeamSection, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classNames('team-section-icon', this.props.theme),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: this.props.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"team-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Hello, \", this.props.ftName, \" !\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this.showModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"far fa-plus-square fa-5x\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }), \"Ajouter une campagne\"), React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"far fa-eye\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }), \"Voir les campagnes\"))), React.createElement(Modal, {\n        show: this.state.show,\n        handleClose: this.hideModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"Nouvelle Campagne\"), React.createElement(\"p\", {\n        dangerouslySetInnerHTML: {\n          __html: this.date\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        src: require('../../images/modelImg.png'),\n        alt: \"popup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        id: \"input\",\n        name: \"\",\n        placeholder: \"Nom de la campagne\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/Form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"button-campagne\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"Commencer\"))))));\n    }\n  }]);\n\n  return FeaturesTeamSection;\n}(Component);\n\nexport { FeaturesTeamSection as default };\n\nvar Modal = function Modal(_ref) {\n  var handleClose = _ref.handleClose,\n      show = _ref.show,\n      children = _ref.children;\n  var showHideClassName = show ? 'modal display-block' : 'modal display-none';\n  return React.createElement(\"div\", {\n    className: showHideClassName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-times fa-2x\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }), children));\n};","map":{"version":3,"sources":["D:\\Téléchargements\\LBC-Projet\\BACK-FRONT\\client\\src\\components\\FeaturesTeamSection\\FeaturesTeamSection.js"],"names":["React","Component","Fragment","Link","classNames","require","doAjax","url","method","callback","data","xhr","XMLHttpRequest","open","setRequestHeader","JSON","stringify","toLowerCase","Error","onload","evt","target","response","srcElement","send","err","console","log","createCampaign","e","preventDefault","res","window","alert","name","document","getElementById","value","ft_id","getCampaign","getCompaign","displayCampaign","parse","getQuestions","displayQuestions","tableau","undefined","forEach","state","ul","createElement","li","body","appendChild","innerHTML","textContent","date","number","wording","createReponse","yesNo","getElementsByClassName","wordingValue","checked","action","campagne_id","question_id","start","buttonCampagne","display","quest","buttonReponse","onclick","addEventListener","FeaturesTeamSection","show","showModal","setState","hideModal","Date","toLocaleDateString","props","theme","icon","ftName","__html","Modal","handleClose","children","showHideClassName"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\n// import Questions from '../Questions/Questions';\r\nimport { Link } from \"react-router-dom\";\r\nconst classNames = require('classnames');\r\n\r\n(function() {\r\n  // \"use strict\";\r\n\r\n  function doAjax(url, method, callback, data) {\r\n    try {\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open(method, url);\r\n      xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n      data = data ? JSON.stringify(data) : null;\r\n      if (method.toLowerCase() === \"post\") {\r\n        if (!data) throw new Error(\"bad call\");\r\n      }\r\n      xhr.onload = evt =>\r\n        callback(evt.target.response || evt.srcElement.response);\r\n      xhr.send(data);\r\n      // console.log(data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  function createCampaign(e) {\r\n    //return console.log(e)\r\n    e.preventDefault();\r\n\r\n    //        return console.log(\"ici tout va bien\")\r\n\r\n    const url = \"http://localhost:5000/api/v1/campaign/createCampaign\";\r\n    doAjax(\r\n      url,\r\n      \"POST\",\r\n      res => {\r\n        window.alert(\"campaign created\");\r\n        // console.log(JSON.parse(res));\r\n        console.log(\"app.js/res\", res);\r\n      },\r\n      {\r\n        name: document.getElementById(\"input\").value,\r\n        ft_id: 10\r\n      }\r\n    );\r\n  }\r\n\r\n  const getCampaign = function getCompaign() {\r\n    const url = \"http://localhost:5000/api/v1/campaign/displayCampaign\";\r\n    doAjax(url, \"GET\", res => {\r\n      // console.log(JSON.parse(res));\r\n      displayCampaign(JSON.parse(res));\r\n    });\r\n  };\r\n\r\n  const getQuestions = function getQuestions() {\r\n    const url = \"http://localhost:5000/api/v1/campaign/displayQuestions\";\r\n    doAjax(url, \"GET\", res => {\r\n      // console.log(JSON.parse(res));\r\n      displayQuestions(JSON.parse(res));\r\n    });\r\n  };\r\n\r\n  function displayCampaign(tableau) {\r\n    if (tableau === undefined) return;\r\n\r\n    tableau.forEach(function(e) {\r\n      console.log(e);\r\n      //if (e.state === 0) {\r\n      //  e.state = \"En cours\";\r\n      //}\r\n      e.state === 0 ? (e.state = \"En cours\") : (e.state = \"Terminée\");\r\n      var ul = document.createElement(\"ul\");\r\n      var li = document.createElement(\"li\");\r\n      document.body.appendChild(ul);\r\n      ul.innerHTML = \"\";\r\n      li.textContent = `nom de la campagne: ${e.name} - date de la campagne: ${\r\n        e.date\r\n      } - statut de la campagne: ${e.state}`;\r\n      ul.appendChild(li);\r\n    });\r\n  }\r\n\r\n  function displayQuestions(tableau) {\r\n    if (tableau === undefined) return;\r\n\r\n    tableau.forEach(function(e) {\r\n      console.log(e);\r\n      var ul = document.createElement(\"ul\");\r\n      var li = document.createElement(\"li\");\r\n      document.body.appendChild(ul);\r\n      ul.innerHTML = \"\";\r\n      li.textContent = `${e.number} - ${e.wording} : ${e.url}`;\r\n      ul.appendChild(li);\r\n    });\r\n  }\r\n\r\n  function createReponse(e) {\r\n    //return console.log(e)\r\n    e.preventDefault();\r\n    //        return console.log(\"ici tout va bien\")\r\n\r\n    const url = \"http://localhost:5000/api/v1/campaign/campaign\";\r\n    const yesNo = document.getElementsByClassName(\"reponse\"); // tableau d'élements\r\n    let wordingValue; // si le premier bouton radio (oui) est checked alors la valeur du bouton est true sinon c'est false (non)\r\n    if (yesNo[0].checked === true) {\r\n      wordingValue = true;\r\n    } else if (yesNo[1].checked === true) {\r\n      wordingValue = false;\r\n    }\r\n\r\n    doAjax(\r\n      url,\r\n      \"POST\",\r\n      res => {\r\n        window.alert(\"Reponse created\");\r\n        // console.log(JSON.parse(res));\r\n        console.log(\"app.js/res\", res);\r\n      },\r\n      {\r\n        wording: wordingValue,\r\n        action: document.getElementById(\"action\").value,\r\n        campagne_id: 23,\r\n        question_id: 1\r\n      }\r\n    );\r\n  }\r\n\r\n  // const getReponse = function getReponse() {\r\n  //   const url = \"http://localhost:5000/api/v1/campaign/campaign\";\r\n  //   doAjax(url, \"GET\", res => {\r\n  //     // console.log(JSON.parse(res));\r\n  //     displayReponse(JSON.parse(res));\r\n  //   });\r\n  // };\r\n\r\n  function start() {\r\n    let buttonCampagne = document.getElementById(\"button-campagne\");\r\n    let display = document.getElementById(\"display\");\r\n    let quest = document.getElementById(\"quest\");\r\n    let buttonReponse = document.getElementById(\"button-reponse\");\r\n\r\n    if (buttonCampagne)\r\n      buttonCampagne.onclick = function(evt) {\r\n        createCampaign(evt);\r\n      };\r\n\r\n    if (display)\r\n      display.onclick = function() {\r\n        getCampaign();\r\n        displayCampaign();\r\n      };\r\n\r\n    if (quest)\r\n      quest.onclick = function() {\r\n        getQuestions();\r\n        displayQuestions();\r\n      };\r\n\r\n    if (buttonReponse)\r\n      buttonReponse.onclick = function(evt) {\r\n        createReponse(evt);\r\n        // getReponse();\r\n      };\r\n  }\r\n\r\n  window.addEventListener(\"DOMContentLoaded\", start);\r\n})();\r\n\r\nexport default class FeaturesTeamSection extends Component {\r\n  state = { show: false }\r\n\r\n  showModal = () => {\r\n    this.setState({ show: true });\r\n  }\r\n  \r\n  hideModal = () => {\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  date = `Le ${new Date().toLocaleDateString()}`;\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div className={classNames('team-section-icon', this.props.theme)}>\r\n          <i className={this.props.icon}/>\r\n        </div>\r\n        <div className=\"team-section\">\r\n        <h1>Hello, {this.props.ftName} !</h1>\r\n        <div>\r\n          <button type=\"button\" onClick={this.showModal}><i className=\"far fa-plus-square fa-5x\"></i>Ajouter une campagne</button>\r\n          <button><i className=\"far fa-eye\"></i>Voir les campagnes</button>\r\n        </div>              \r\n        </div>\r\n        \r\n        <Modal show={this.state.show} handleClose={this.hideModal} >\r\n              <h1>Nouvelle Campagne</h1>\r\n              <p dangerouslySetInnerHTML={{ __html: this.date }}></p>\r\n              <img src={require('../../images/modelImg.png')} alt=\"popup\"/>\r\n              <div>\r\n                <input type=\"text\" id=\"input\" name=\"\" placeholder=\"Nom de la campagne\"/>\r\n                   <Fragment>\r\n                    <Link to=\"/Form\"> \r\n                     <button id=\"button-campagne\">Commencer</button>\r\n                    </Link> \r\n                   </Fragment>\r\n              </div> \r\n        </Modal>\r\n          \r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Modal = ({ handleClose, show, children }) => {\r\n  const showHideClassName = show ? 'modal display-block' : 'modal display-none';\r\n\r\n  return (\r\n    <div className={showHideClassName}>\r\n      <div className='modal-main'>\r\n        <i className=\"fas fa-times fa-2x\" onClick={handleClose}></i>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};"]},"metadata":{},"sourceType":"module"}